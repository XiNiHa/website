webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o=a("gBtx"),i=a.n(o),s=a("yviF"),r=a.n(s),c=(a("881v"),a("mtWM")),d=a.n(c),u={data:function(){return{editor:void 0}},mounted:function(){var t=this;this.editor=ace.edit("editor"),this.editor.setTheme("ace/theme/monokai"),this.editor.session.setMode("ace/mode/html"),this.editor.on("change",this.updateSource),this.updateSource(),d.a.get("https://anesin1109.github.io/ruliweb-lol-manual-template/index.html").then(function(e){return t.editor.setValue(e.data)})},methods:{updateSource:function(){this.$emit("change",this.editor.getValue())},addIcon:function(t){this.editor.insert('<img src="'+t+"\" class='manual_icon'")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor-wrapper"},[a("div",{attrs:{id:"editor"}},[t._v("Loading...")]),t._v(" "),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("add","챔피언")}}},[t._v("챔피언")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("add","스킬")}}},[t._v("스킬")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("add","스펠")}}},[t._v("스펠")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.$emit("add","아이템")}}},[t._v("아이템")])])])},staticRenderFns:[]};var m=a("VU/8")(u,l,!1,function(t){a("vr/7")},"data-v-dcc2c2d6",null).exports,p={props:{source:{type:String,default:""}},mounted:function(){document.getElementById("preview").innerHTML=this.source},watch:{source:function(t){document.getElementById("preview").innerHTML=t}}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"preview"}})},staticRenderFns:[]};var v=a("VU/8")(p,h,!1,function(t){a("UZof")},"data-v-5a2601b8",null).exports,f={apiKey:"",version:"8.11.1"},g={name:"App",components:{Editor:m,Preview:v},data:function(){return{champ:"",name:"",season:i()(f.version.charAt(0)),source:"",id:"",addTarget:"챔피언"}},mounted:function(){var t=this;d.a.get("http://ddragon.leagueoflegends.com/cdn/"+f.version+"/data/ko_KR/champion.json").then(function(e){t.$store.state.champs=e.data.data})},methods:{updateSource:function(t){this.source=t},uploadSource:function(){""!==this.id?r.a.firestore().collection("manuals").doc(this.id).set({champ:this.champ,name:this.name,season:this.season,value:this.source}):r.a.firestore().collection("manuals").add({champ:this.champ,name:this.name,season:this.season,value:this.source}).then(function(t){return alert("업로드가 완료되었습니다. ID는 '"+t.id+"'입니다. 복사해서 보관하세요.")}).catch(function(){return alert("업로드에 실패했습니다.")})},openAdder:function(t){this.addTarget=t,this.$router.push("/add")},addIcon:function(t){this.$refs.editor.addIcon(t)}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"container"}},[a("editor",{ref:"editor",on:{change:t.updateSource,add:t.openAdder}}),t._v(" "),a("router-view",{attrs:{source:t.source,addTarget:t.addTarget},on:{"add-icon":t.addIcon}})],1),t._v(" "),a("div",{attrs:{id:"form"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.champ,expression:"champ"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.champ=e.target.multiple?a:a[0]}}},t._l(t.$store.state.champs,function(e,n,o){return a("option",{key:o,domProps:{value:e.key}},[t._v(t._s(e.name))])})),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"공략 이름"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"공략이 이미 존재할 경우 ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:t.uploadSource}},[t._v("업로드")])])])},staticRenderFns:[]};var b=a("VU/8")(g,_,!1,function(t){a("xV+X")},null,null).exports,y=a("/ocq"),w=a("BO1k"),k=a.n(w),R={props:{addTarget:{type:String,default:"챔피언"}},data:function(){return{imageURLs:{"챔피언":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/img/champion/","스킬":{passive:"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/img/passive/",active:"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/img/spell/"},"스펠":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/img/spell/","아이템":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/img/item/"},dataURLs:{"챔피언":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/data/ko_KR/champion.json","스킬":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/data/ko_KR/champion/<name>.json","스펠":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/data/ko_KR/summoner.json","아이템":"http://ddragon.leagueoflegends.com/cdn/"+f.version+"/data/ko_KR/item.json"},imgs:[],champ:""}},mounted:function(){"스킬"!==this.addTarget&&this.updateIcons()},watch:{champ:function(){var t=this;d.a.get(this.dataURLs.스킬.replace(/<name>/,this.champ)).then(function(e){t.imgs.push(t.imageURLs[t.addTarget].passive+e.data.data[t.champ].passive.image.full);var a=!0,n=!1,o=void 0;try{for(var i,s=k()(e.data.data[t.champ].spells);!(a=(i=s.next()).done);a=!0){var r=i.value;t.imgs.push(t.imageURLs[t.addTarget].active+r.image.full)}}catch(t){n=!0,o=t}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}})},addTarget:function(){this.updateIcons()}},methods:{updateIcons:function(){var t=this;d.a.get(this.dataURLs[this.addTarget]).then(function(e){for(var a in e.data.data)t.imgs.push(t.imageURLs[t.addTarget]+e.data.data[a].image.full)})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adder"}},[a("link",{attrs:{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css",integrity:"sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB",crossorigin:"anonymous"}}),t._v(" "),a("h1",[t._v(t._s(t.addTarget)+" 아이콘 추가")]),t._v(" "),"스킬"===t.addTarget?a("select",{directives:[{name:"model",rawName:"v-model",value:t.champ,expression:"champ"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.champ=e.target.multiple?a:a[0]}}},t._l(t.$store.state.champs,function(e,n,o){return a("option",{key:o,domProps:{value:n}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),a("div",{staticClass:"icons"},t._l(t.imgs,function(e,n){return a("img",{key:n,staticClass:"icon",attrs:{src:e},on:{click:function(a){t.$emit("add-icon",e)}}})})),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.$router.push("/")}}},[t._v("완료")])])},staticRenderFns:[]};var T=a("VU/8")(R,C,!1,function(t){a("ZcPP")},"data-v-3e43c460",null).exports;n.a.use(y.a);var x=new y.a({mode:"history",routes:[{path:"/",name:"Preview",component:v},{path:"/add",name:"Adder",component:T}]}),$=a("NYxO");n.a.use($.a);var I=new $.a.Store({state:{champs:{}}});n.a.config.productionTip=!1,r.a.initializeApp({apiKey:"AIzaSyDS8CB514Z6lDh7uNFRDBPj8t5r2XbtwVo",databaseURL:"https://ruliweb-lol-manual-manager.firebaseio.com",projectId:"ruliweb-lol-manual-manager"}),new n.a({el:"#app",store:I,router:x,components:{App:b},template:"<App/>"})},UZof:function(t,e){},ZcPP:function(t,e){},"vr/7":function(t,e){},"xV+X":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.10ed505c7a918b23448e.js.map